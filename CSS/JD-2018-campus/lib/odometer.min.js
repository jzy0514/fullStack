/ *！里程表0.4.6 * /
（function（）{var a，b，c，d，e，f，g，h，i，j，k，l，m，n，o，p，q，r，s，t，u，v， w，x，y，z，A，B，C，D，E，F，G = []。切片; q ='<span class =“odometer-value”> </ span>'，n ='< span class =“odometer-ribbon”> <span class =“odometer-ribbon-inner”>'+ q +“</ span> </ span>”，d ='<span class =“odometer-digit”> <span class =“odometer-digit-spacer”> 8 </ span> <span class =“odometer-digit-inner”>'+ n +“</ span> </ span>”，g ='<span class =“里程表-formatting标记“> </ span>的，C = ”（，DDD）.DD“，H = / ^ \ \）（（[^）] *？）？（？：（）（d +）） ？$ /，i = 30，f = 2e3，a = 20，j = 2，e = .5，k = 1e3 / i，b = 1e3 / a，o =“transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd”，y = document .createElement（ “格”）。风格，p =空！= y.transition ||空！= y.webkitTransition ||空！= y.mozTransition ||空！= y.oTransition，W = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame， l = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver，s = function（a）{var b; return b = document.createElement（“div”），b.innerHTML = a，b.children [0] }，v = function（a，b）{return a.className = a.className.replace（new RegExp（“（^ |）”+ b.split（“”）。join（“|”）+“（| $）“，”gi“），”“）}，r = function（a，b）{return v（a，b），a.className + =”“+ b}，z = function（a，b）{ var c; return null！= document.createEvent？（c = document.createEvent（“HTMLEvents”），c.initEvent（b，！0，！0），a.dispatchEvent（c））：void 0}，u = function（）{var a，b; return null！=（a = null！=（b = window。性能）？“函数”== typeof b.now?b.now():void 0：void 0）？a：+ new Date}，x = function（a，b）{return null == b &&（b = 0），b（A * = Math.pow（10，b）中，+ = 5，α= Math.floor（a）中，/ = Math.pow（10，b））：。Math.round（一），A = function（a）{return 0> a？Math.ceil（a）：Math.floor（a）}，t = function（a）{return ax（a）}，C =！1，（ B = function（）{var a，b，c，d，e; if（！C && null！= window.jQuery）{for（C =！0，d = [“html”，“text”]，e = [ ]，b = 0，c = d.length; c> b; b ++）a = d [b]，e.push（function（a）{var b; return b = window.jQuery.fn [a]，window .jQuery.fn [a] = function（a）{var c; return null == a || null ==（null！=（c = this [0]）？c.odometer：void 0）？b.apply （this，arguments）：this [0] .odometer.update（a）}}（a））; return e}}）（），setTimeout（B，0），m = function（）{function a（b） {var c，d，e，g，h，i，l，m，n，o，p = this; if（this.options = b，this.el = this.options.el，null！= this.el .odometer）返回this.el.odometer; this.el.odometer = this，m = a。选项; for（d in m）g = m [d]，null == this.options [d] &&（this.options [d] = g）; null ==（h = this.options）.duration &&（h .duration = f）中，this.MAX_VALUES = this.options.duration / K / J | 0，this.resetFormat（！），THIS.VALUE = this.cleanValue（空=（N = this.options.value）N ： “”），this.renderInside（），this.render（）;尝试{对于（O = [ “innerHTML的”， “的innerText”， “的textContent”]，I = 0，L = o.length; L>我; i ++）e = o [i]，null！= this.el [e] &&！function（a）{return Object.defineProperty（p.el，a，{get：function（）{var b; return“innerHTML “=== a？p.inside.outerHTML：null！=（b = p.inside.innerText）？b：p.inside.textContent}，set：function（a）{return p.update（a）}} }}（e）} catch（q）{c = q，this.watchForMutations（）}}返回a.prototype.renderInside = function（）{return this.inside = document.createElement（“div”），this.inside .className = “里程表-内部”，this.el。innerHTML =“”，this.el.appendChild（this.inside）}，a.prototype.watchForMutations = function（）{var a，b = this; if（null！= l）try {return null == this.observer && （this.observer = new l（function（）{var a; return a = b.el.innerText，b.renderInside（），b.render（b.value），b.update（a）}）），this .watchMutations =！0，this.startWatchingMutations（）} catch（c）{a = c}}，a.prototype.startWatchingMutations = function（）{return this.watchMutations？this.observer.observe（this.el，{childList ：！0}）：void 0}，a.prototype.stopWatchingMutations = function（）{var a; return null！=（a = this.observer）？a.disconnect（）：void 0}，a.prototype.cleanValue = function（a）{var b; return“string”== typeof a &&（a = a.replace（null！=（b = this.format.radix）？b：“。”，“<radix>”），一个= a.replace（/[.,]/克， “”）中，a = a.replace（ “<基数>”， “”）中，a = parseFloat（A，10）|| 0），X（一个，this.format.precision）}，a.prototype.bindTransitionEnd = function（）{var a，b，c，d，e，f，g = this; if（！this.transitionEndBound）{for（this.transitionEndBound =！ 0，b =！1，e = o.split（“”），f = []，c = 0，d = e.length; d> c; c ++）a = e [c]，f.push（this .el.addEventListener（a，function（）{return b？！0：（b =！0，setTimeout（function（）{return g.render（），b =！1，z（g.el，“odometerdone”） ）}，0），！0）}，1））; return f}}，a.prototype.resetFormat = function（）{var a，b，d，e，f，g，i，j; if（ a = null！=（i = this.options.format）？i：c，a ||（a =“d”），d = h.exec（a），！d）抛出新错误（“里程表：不可分析”数字格式“）;返回j = d.slice（1,4），g = j [0]，f = j [1]，b = j [2]，e =（null！= b？b.length： void 0）|| 0，this.format = {repeating：g，radix：f，precision：e}}，a.prototype.render = function（a）{var b，c，d，e，f，g， H，I，J，K，L，M;对于（空==一个&&（A = THIS.VALUE），this.stopWatchingMutations（），this.resetFormat（），this.inside。innerHTML =“”，g = this.options.theme，b = this.el.className.split（“”），f = []，i = 0，k = b.length; k> i; i ++）c = b [I]中，c.length &&（（E = / ^里程表主题 - （+）$ / EXEC（c））的克= E [1]：。？。/ ^里程表（ -  | $）/测试（ C）|| f.push（C））;吗？（f.push（ “里程表”）中，p || f.push（ “里程表-无转变”），f.push（G“里程表-主题 - “+ g：”odometer-auto-theme“），this.el.className = f.join（”“），this.ribbons = {}，this.digits = []，h =！this.format.precision | | T（A）|| 1，M = a.toString（）分割（ “”）反向（）中，j = 0，L = m.length;！。。L>焦耳; J ++）d = M [J ]，“。”=== d &&（h =！0），this.addDigit（d，h）; return this.startWatchingMutations（）}，a.prototype.update = function（a）{var b，c = this ;返回a = this.cleanValue（a），（b = a-this.value）？（v（this.el，“odometer-animating-up odometer-animating-down odometer-animating”），b> 0？r （this.el”odometer-animating-up“）：r（this.el，”odometer-animating-down“），this.stopWatchingMutations（），this.animate（a），this.startWatchingMutations（），setTimeout（function（）{return c .el.offsetHeight，r（c.el，“odometer-animating”）}，0），this.value = a）：void 0}，a.prototype.renderDigit = function（）{return s（d）}， a.prototype.insertDigit = function（a，b）{return null！= b？this.inside.insertBefore（a，b）：this.inside.children.length？this.inside.insertBefore（a，this.inside。 children [0]）：this.inside.appendChild（a）}，a.prototype.addSpacer = function（a，b，c）{var d; return d = s（g），d.innerHTML = a，c && r（ d，c），this.insertDigit（d，b）}，a.prototype.addDigit = function（a，b）{var c，d，e，f; if（null == b &&（b =！0）， “ - ”=== a）返回this.addSpacer（a，null，“odometer-negation-mark”）; if（“。”=== a）返回this.addSpacer（null！=（f = this.format） .radix）F：？， “”null，“odometer-radix-mark”）; if（b）for（e =！1 ;;）{if（！this.format.repeating.length）{if（e）throw new error（“not odometer format without数字“）; this.resetFormat（）中，e = 0}如果（C = this.format.repeating [this.format.repeating.length-1]，this.format.repeating = this.format.repeating.substring（！ 0，this.format.repeating.length-1），“d”=== c）break; this.addSpacer（c）} return d = this.renderDigit（），d.querySelector（“。odometer-value”） .innerHTML = a，this.digits.push（d），this.insertDigit（d）}，a.prototype.animate = function（a）{return p &&“count”！== this.options.animation？this.animateSlide （a）：this.animateCount（a）}，a.prototype.animateCount = function（a）{var c，d，e，f，g，h = this; if（d = + a-this.value）return f = e = u（），c = this.value，（g = function（）{var i，j，k; return u（） -  f> h.options.duration？（h.value = a，h。 render（），void z（h.el，“odometerdone”））：（I = U（） -  E，I> b &&（E = U（）中，k = I / h.options.duration，J = d * K，C + = j的，h.render（Math.round（c））的），null！= w？w（g）：setTimeout（g，b））}）（）}，a.prototype.getDigitCount = function（）{var a，b，c，d，e，f; for（ d = 1 <α的arguments.length = G.call（参数，0）：[]中，a = E = 0，F = d.length;˚F>电子; A = ++ E）C = d [A]， d [a] = Math.abs（c）; return b = Math.max.apply（Math，d），Math.ceil（Math.log（b + 1）/Math.log（10））}，a。 prototype.getFractionalDigitCount = function（）{var a，b，c，d，e，f，g; for（e = 1 <= arguments.length？G.call（arguments，0）：[]，b = / ^ ？\  -  \ d * \（？\ d *）0 * $ /，A = F = 0，G = e.length; G>F≥C; A = ++ F）d = E [A]，E [ a] = d.toString（），c = b.exec（e [a]），e [a] = null == c？0：c [1] .length;返回Math.max.apply（数学，e ），a.prototype.resetDigits = function（）{return this.digits = []，this.ribbons = []，this.inside.innerHTML =“”，this.resetFormat（）}，a.prototype.animateSlide =函数（a）{var b，c，d，f，g，h，i，j，k，l，m，n，o，p，q，s，t，u，v，w，x，y， Z，B，C，d，E;如果（S =此。值，J = this.getFractionalDigitCount（S，A）中，j &&（A * = Math.pow（10，j）中，S * = Math.pow（10，j）的），d =如）{对于（this.bindTransitionEnd （）中，f = this.getDigitCount（S，a）中，G = []，b = 0，M = v = 0;˚F> = 0，F>ν：？v> F;米= F> = 0 + + v： -  v）{如果（T = A（S / Math.pow（10，FM-1）），I = A（A / Math.pow（10，FM-1）），H =它， Math.abs（H）> this.MAX_VALUES）{对于（L = []，N = H /（this.MAX_VALUES + this.MAX_VALUES * b *表E），C = T; H> 0 && I>ç|| 0> h && c> i;）l.push（Math.round（c）），c + = n; l [l.length-1]！== i && l.push（i），b ++} else l = function（）{E = []; for（var a = t; i> = t？i> = a：a> = i; i> = t？a ++：a  - ）E.push（a）; return E} .apply（this ）;对于（M = W = 0，Y = l.length; Y>瓦特; M = ++瓦特数）k = L [米]，L [M] = Math.abs（K％10）; g.push （1）}为（this.resetDigits（），d = g.reverse（）中，m = X = 0，Z = D.length; Z> X; M = ++ X）为（L = d [米] ，this.digits [m] || this.addDigit（“”，m> = j），null ==（u = this.ribbons）[m] &&（u [m] = this.digits [m] .querySelector （”。里程表-带状内部 “）），this.ribbons [米] .innerHTML =””，0> d &&（L = l.reverse（）），O = C = 0，B = l.length; B> C; O = ++ C）K = L [0]，q =使用document.createElement（ “DIV”），q.className = “里程表值”，q.innerHTML = k时，this.ribbons [米] .appendChild（q ），o === l.length-1 && r（q，“odometer-last-value”），0 === o && r（q，“odometer-first-value”）;返回0> t && this.addDigit（“ - ” ），p = this.inside.querySelector（ “里程表基数标记”），空！= p && p.parent.removeChild（p），J？this.addSpacer（this.format.radix，this.digits [J- 1]，“odometer-radix-mark”）：void 0}}，a}（），m.options = null！=（E = window.odometerOptions）？E：{}，setTimeout（function（）{var a ，b，c，d，e; if（window.odometerOptions）{d = window.odometerOptions，e = []; for（a in d）b = d [a]，e.push（null！=（c = m.options）[a]？（c = m.options）[a]：c [a] = b）; return e}}，0），m.init = function（）{var a，b，c，d，e，f; if（null！= document.querySelectorAll）{for（b = document.querySelectorAll（m.options.selector ||“。odometer” ），f = []，c = 0，d = b.length; d> c; c ++）a = b [c]，f.push（a.odometer = new m（{el：a，value：null！ =（e = a.innerText）？e：a.textContent}））; return f}}，null！=（null！=（F = document.documentElement）？F.doScroll：void 0）&& null！= document。 createEventObject？（d = document.onreadystatechange，document.onreadystatechange =函数（）{返回 “完成” === document.readyState && m.options.auto！==！1个&& m.init（），空！= d？D.apply（这个，参数）：void 0}）：document.addEventListener（“DOMContentLoaded”，function（）{return m.options.auto！==！1？m.init（）：void 0}，！1），“function “== typeof define && define.amd？define（[”jquery“]，function（）{return m}）：typeof exports ===！1？module.exports = m：window.Odometer = m}）。调用（这）;